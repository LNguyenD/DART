@model List<EM_Report.Domain.Dashboard_Projection>
@using EM_Report.Common.Utilities;
@using EM_Report.Helpers;
@using EM_Report.Domain.Resources;
@{
    ViewBag.Title = "Projection List";
    ViewBag.Heading = "Report >> Dashboard_Projection list";
    Layout = Request.IsAjaxRequest() ? null : "~/Views/Shared/_Master.cshtml";   
}

<script src="@Url.ContentV("~/Scripts/iImportData.js")" type="text/javascript"></script>

@if (Base.LoginSession.isSystemUser)
{
    <div class="wrapper">    
    @Html.Hidden("controllerName", "Dashboard_Projection")
    @using (Ajax.BeginForm("Index", new AjaxOptions { UpdateTargetId = "content", OnBegin = "showLoading", OnComplete = "hideLoading" }))
    {
        @Html.AntiForgeryToken()
        <link href="@Url.ContentV("~/Css/jquery.selectbox.css")" rel="stylesheet" type="text/css" />  
        <script type="text/javascript" src="@Url.ContentV("~/scripts/custom_javascript.js")"></script> 
        <script src="@Url.ContentV("~/scripts/iReport.js")" type="text/javascript"></script>
        <link href="@Url.ContentV("~/Css/report.css")" rel="stylesheet" type="text/css" />
        @Html.Partial("_SearchBar")
        <div class="w_100p">
            <div class="formWrap">
                <h1>Projection List</h1>
                <table name="tbGrid" cellspacing="0" cellpadding="0" class="tbl">
                    <thead>
                    <tr>                        
                        <td sortby="Unit_Name" sortdir="" class="col_30"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>unit name</td>
                        <td sortby="Unit_Type" sortdir="" class="col_17"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>unit type</td>
                        <td sortby="Type" sortdir="" class="col_25"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>type</td>
                        <td sortby="Time_Id" sortdir="" class="col_10 center"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>time id</td>
                        <td sortby="Projection" sortdir="" class="col_10"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>projection</td>
                    </tr>
                </thead>
                @if (!ViewData.Model.IsNullOrEmpty())
                {
                    var i = 0;
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr class="@(i % 2 == 0 ? "odd" : "even")">                                
                                <td title="@item.Unit_Name"><a href="@Url.Action("Details", "Dashboard_Projection", new { id = item.Id, systemid = ViewBag.currentSystemId })">@item.Unit_Name</a></td>
                                <td title="@item.Unit_Type">@item.Unit_Type</td>                                        
                                <td title="@item.Type">@item.Type</td>
                                <td class="col_center">@Base.GetDatetimeText(@item.Time_Id)</td>
                                <td title="@item.Projection">@item.Projection</td>
                            </tr>
                                                        i++;
                        }
                    </tbody>
                }            
            </table>
                <br />
                <div class="right">
                    @if (Login.AuthorizeSystemPermission(ResourcesHelper.System_Group,ResourcesHelper.Permission_Add))
                    {
                        <span class="btnPurple"><input type="button" value="@Resource.Action_ImportExcel" onclick="window.location = ('@Url.Action("Import", "Dashboard_Projection", new { systemid = ViewBag.currentSystemId })')" /></span>
                        <span class="btnPurple"><input type="button" value="@Resource.Action_AddNew" onclick="window.location = ('@Url.Action("Details", "Dashboard_Projection", new { systemid = ViewBag.currentSystemId })')"/></span>
                        <span class="btnPurple"><input type="button" id="btnDeleteAll" value="Delete All" onclick="confirmOKCancel('Confirmation', 'Are you sure you want to delete')"/></span>
                    }                
                </div>  
                <div class="Paging">
                @if (!Model.IsNullOrEmpty())
                {
                    @Html.Partial("_UCPaging")                                          
                }
                </div>
                @Html.Partial("_HiddenAction")
            </div>
        </div>
    }
    </div>  
}

