@model IEnumerable<EM_Report.Models.Report_CategoriesModel>
@using EM_Report.BLL.Pager;
@using EM_Report.BLL.Commons;
@using EM_Report.Helpers;
@{
    ViewBag.Title = "Report Category";
    ViewBag.Heading = "Report >> Category List";
    Layout = Request.IsAjaxRequest() ? null : "~/Views/Shared/_Master.cshtml";
}
<div class="Wrapper">
   @using (Ajax.BeginForm("Category", new AjaxOptions { UpdateTargetId = "content", OnBegin = "showLoading", OnComplete = "hideLoading" }))
   {
        <script src="@Url.Content("~/scripts/iReport.js")" type="text/javascript"></script>
        <link href="@Url.Stylesheet("report.css")" rel="stylesheet" type="text/css" />           
        @Html.Partial("_SearchBar")
        <div class="BoxContent">
            <table id="tbGrid" name="tbGrid" class="Grid">
                <thead>
                   <tr>
                        <th class="center"><input type="checkbox" id="checkboxall" name="chkAll" /> </th>
                        <th sortby="Name" sortdir=""><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>category name</th>
                        <th sortby="Description" sortdir=""><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>description</th>
                        <th class="center" sortby="Status" sortdir=""><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>status</th>
                        <th class="center" sortby="Create_Date" sortdir=""><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>@EM_Report.BLL.Resources.Resource.txtCreatedOn</th>
                        <th sortby="Owner" class="last-column" sortdir=""><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>@EM_Report.BLL.Resources.Resource.txtOwner</th>
                    </tr>
                </thead>
                @if (!ViewData.Model.IsNullOrEmpty())
                {               
                    <tbody>
                            @foreach (var item in Model)
                            {
                                 <tr>
                                    <td class="center" style="width:30px;"><input type="checkbox" name="chkItem" value="@(item.CategoryId)" id="chkId@(item.CategoryId)"/> </td>
                                    <td title="@item.Name" style="width:*%"><a href="@Url.Action("categorydetails", "report", new { id = item.CategoryId })">@item.Name</a></td>
                                    <td title="@item.Description" style="width:30%;">@item.Description</td>
                                    <td class="center" style="width:10%;">@item.StatusName</td>
                                    <td class="center" style="width:15%;">@Base.GetDatetimeText(@item.Create_Date)</td>
                                    <td class="last-column" title="@item.OwnerName" style="width:10%;">@item.OwnerName</td>
                                </tr>        
                            }
                    </tbody>                        
                }            
            </table>        
        </div>
        <div class="Paging">
            <div style="float:right">
                @if (Login.AuthorizeSystemPermission(ResourcesHelper.System_Report, ResourcesHelper.Permission_Add))
                {
                <a class="CmdButton Add" href="@Url.Content("CategoryDetails")">Add New</a>
                }
                @if (Login.AuthorizeSystemPermission(ResourcesHelper.System_Report, ResourcesHelper.Permission_Update))
                {
                <a id="cmdActive" class="CmdButton Active" value="@ResourcesHelper.StatusActive">Active</a>
                <a id="cmdInActive" class="CmdButton InActive" value="@ResourcesHelper.StatusInactive">InActive</a>
                }
            </div>
            @if (!Model.IsNullOrEmpty())
            {
                @Html.Partial("_UCPaging")                                          
            }        
        </div>    
        @Html.Partial("_HiddenAction")             
   }   
</div>
