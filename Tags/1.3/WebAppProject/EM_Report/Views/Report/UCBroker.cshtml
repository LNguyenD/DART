@model IEnumerable<EM_Report.Models.Report_Data_Object.BrokerModel>
@{
    Layout = null;
}

@using EM_Report.BLL.Commons;
@using EM_Report.Helpers;

<div class="Wrapper">
@using (Ajax.BeginForm("UCBroker", null, new AjaxOptions { UpdateTargetId = "searchBroker", OnBegin = "showLoadingPopup", OnComplete = "hideLoadingPopup" }, new { Id = "frmBroker" }))
{
    <div class="BoxHeader">
        <div class="SearchInput">
            <label>Name</label><input type="text"  id="brokerName" name="brokerName" value="@ViewBag.BrokerName" class="Popup" />
            <label>Contact surname</label><input type="text" id="contactSurname" name="contactSurname" value="@ViewBag.ContactSurname" class="Popup" />
            <input id="btnSearch" type="image" title="Search" src="@Url.Image("btnSearch.png")"  />
        </div>                 
    </div>
    <div class="BoxContent">
        <table id="tbGrid" name="tbGrid" class="Grid">
            <thead>
			    <tr>
				    <th style="width: 30px;"><input type="checkbox" id="checkboxall" name="chkAll" /> </th>                               
				    <th>Broker No</th>
				    <th>Name</th>
                    <th class="last-column">Contact Name</th>                                 
			    </tr>
		    </thead>
            @if (!ViewData.Model.IsNullOrEmpty())
			{
				var odd = true; 
				<tbody>
					@foreach (var item in Model)
					{
						<tr>
						    <td><input type="checkbox" name="chkItem" value="@(item.BrokerNo)" id="chkId@(item.BrokerNo)"/> </td>
						    <td title="@item.BrokerNo">@item.BrokerNo</td>									
						    <td title="@item.Name">@item.Name</td>
                            <td class="last-column" title="@item.ContactName">@item.ContactName</td>
						</tr>                                   
                        odd = !odd;
                    }
				</tbody>      
            }
		</table>
        <div class="Paging">
            @Html.Partial("_OkayCancel", new ViewDataDictionary { { "idSearchForm", "#searchBroker" }, { "policyform", "_HasBrokerForm" } })   
            @if (!ViewData.Model.IsNullOrEmpty())
            {
                 @Html.Partial("_UCPaging")                 
            }  
        </div>
        @Html.Partial("_HiddenAction")		
</div>
}
</div>
<script src="@Url.Content("~/scripts/iReport.js")" type="text/javascript"></script>
