@model List<EM_Report.Domain.Dashboard_TimeAccess>
@using EM_Report.Common.Utilities;
@using EM_Report.Helpers;
@using EM_Report.Domain.Resources;
@{
    ViewBag.Title = "Dashboard Time Log";    
    Layout = Request.IsAjaxRequest() ? null : "~/Views/Shared/_Master.cshtml";    
}  

<div class="Wrapper">
   @using (Ajax.BeginForm("Index", new AjaxOptions { UpdateTargetId = "content", OnBegin = "showLoading", OnComplete = "hideLoading" }))
   {
       @Html.AntiForgeryToken()
       <link href="@Url.ContentV("~/Css/jquery.selectbox.css")" rel="stylesheet" type="text/css" />        
       <script type="text/javascript" src="@Url.ContentV("~/scripts/custom_javascript.js")"></script> 
       <script src="@Url.ContentV("~/scripts/iReport.js")" type="text/javascript"></script>
       <link href="@Url.ContentV("~/Css/report.css")" rel="stylesheet" type="text/css" />
        @Html.Partial("_SearchBar")
        <div class="w_100p">
            @using (Html.BeginForm())
            {
                <div class="formWrap">
            	    <h1>Dashboard Time Access List</h1>
                    <table name="tbGrid" cellspacing="0" cellpadding="0" class="tbl">
                        <thead>
                            <tr>                               
                                <td sortby="DashboardId" sortdir="" class="col_15"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>DashboardId</td>
                                <td sortby="DashboardLevelId" sortdir="" class="col_15"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>DashboardLevelId</td>                                        
                                <td sortby="UserId" sortdir="" class="col_10 center"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>UserId</td>    
                                <td sortby="StartTime" sortdir="" class="col_15 center"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>Start Time</td>    
                                <td sortby="EndTime" sortdir="" class="col_15 center"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>End Time</td>
                                <td sortby="Status" sortdir="" class="col_10 center"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>Status</td>                                       
                                <td sortby="Create_Date" sortdir="" class="col_10 center"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>@Resource.txtCreatedOn</td>                                                                    
                                <td sortby="OwnerName" sortdir="" class="col_10"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>@Resource.txtOwner</td>
                                <td sortby="UpdateBy" sortdir="" class="col_10"><span class="css_right ui-icon ui-icon-carat-2-n-s"></span>Update By</td>
                            </tr>           
                        </thead>
                        @if (!ViewData.Model.IsNullOrEmpty())
                        {
                            var i = 0;         
                            <tbody>
                                    @foreach (var item in Model)
                                    {
                                        <tr class="@(i % 2 == 0 ? "odd" : "even")">                                           
                                            <td title="@item.DashboardId">@item.DashboardId</td>
                                            <td title="@item.DashboardLevelId">@item.DashboardLevelId</td> 
                                            <td title="@item.UserId">@item.UserId</td>
                                            <td title="@item.StartTime">@item.StartTime</td>
                                            <td title="@item.EndTime">@item.EndTime</td>
                                            <td class="col_center">@item.StatusName</td>
                                            <td class="col_center">@Base.GetDatetimeText(@item.Create_Date)</td>
                                            <td title="@item.Owner">@item.Owner</td>
                                            <td title="@item.UpdatedBy">@item.UpdatedBy</td>
                                        </tr>             
                                        i++;
                                    }
                            </tbody>                        
                        }            
                    </table>    
                        <br />
                        <div class="right">
                            @if (Login.AuthorizeSystemPermission(ResourcesHelper.System_Group, ResourcesHelper.Permission_Add))
                            {
                                <span class="btnPurple"><input type="button" value="@Resource.Action_AddNew" onclick="window.location = ('@Url.Action("Details", "Dashboard_TimeAccess", new { systemid = ViewBag.currentSystemId })')"/></span>
                            }                
                            @if (Login.AuthorizeSystemPermission(ResourcesHelper.System_Group, ResourcesHelper.Permission_Update))
                            {
                                <span class="btnPurple"><input type="button" id="cmdActive" value="@ResourcesHelper.Action_Active" /></span>
                                <span class="btnPurple"><input type="button" id="cmdInActive" value="@ResourcesHelper.Action_InActive" /></span>  
                            }    
                        </div>    
                    <div class="Paging">
                        @if (!Model.IsNullOrEmpty())
                        {
                            @Html.Partial("_UCPaging")                                          
                        }
                    </div> 
                    @Html.Partial("_HiddenAction")
                </div>
            }
        </div>
   }
</div>